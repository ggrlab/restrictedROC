<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Calculate restricted ROC-curves, AUCs and permutation p-values.">
<title>Calculate restricted ROC curves • restrictedROC</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Calculate restricted ROC curves">
<meta property="og:description" content="Calculate restricted ROC-curves, AUCs and permutation p-values.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">restrictedROC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.3.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/examples_01_AUROC_TESTS.html">AUROC, Mann-Whitney U and Wilcoxon rank-sum</a>
    <a class="dropdown-item" href="articles/paper_01_roccurves.html">Paper 01: ROC curves</a>
    <a class="dropdown-item" href="articles/paper_02_rROC_theoretic.html">Paper 02: rROC theoretic</a>
    <a class="dropdown-item" href="articles/paper_03_rROC_partROCs.html">Paper 03: rROC partROCs</a>
    <a class="dropdown-item" href="articles/paper_04_rROC_theoretic_FPR.html">Paper 04: rROC theoretic with FPR</a>
    <a class="dropdown-item" href="articles/paper_05_varying_mean_variance.html">Paper 05: rROC with varying mean/variance</a>
    <a class="dropdown-item" href="articles/paper_06_rROC_scaling_vs_recalculate.html">Paper 06: rROC scaling/recalculating</a>
    <a class="dropdown-item" href="articles/paper_07_rROC_twoway.html">Paper 07: rROC label swap</a>
    <a class="dropdown-item" href="articles/paper_08_rROC_permutation_bias.html">Paper 08: rROC permutation</a>
    <a class="dropdown-item" href="articles/paper_09_cartoon_fig2.html">Paper 09: rROC concept</a>
    <a class="dropdown-item" href="articles/vignette_01_rzAUC_colors.html">Vignette 01: rzAUC colors</a>
    <a class="dropdown-item" href="articles/vignette_02_restriction_plots.html">Vignette 02: Restriction plots</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="restrictedroc">restrictedROC<a class="anchor" aria-label="anchor" href="#restrictedroc"></a>
</h1></div>
<!-- badges: start -->

<p>restrictedROC calculates restricted ROC curves, their permutation p-values, plots and multivariate random forest models with restriction.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the latest version of restrictedROC like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ggrlab/restrictedROC"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quickstart">Quickstart<a class="anchor" aria-label="anchor" href="#quickstart"></a>
</h2>
<p>Given a dataset with one dependent (outcome, binary) variable and one independent (predictor, numeric) variables, e.g. the value of a biomarker in two groups of patients, we want to know if the biomarker is informative for the outcome.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">biodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    outcome <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Good"</span>, <span class="fl">50</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Poor"</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    biomarker <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">10</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">9</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">biodata</span><span class="op">)</span></span>
<span><span class="co">#&gt;   outcome biomarker</span></span>
<span><span class="co">#&gt; 1    Good  8.318573</span></span>
<span><span class="co">#&gt; 2    Good  9.309468</span></span>
<span><span class="co">#&gt; 3    Good 14.676125</span></span>
<span><span class="co">#&gt; 4    Good 10.211525</span></span>
<span><span class="co">#&gt; 5    Good 10.387863</span></span>
<span><span class="co">#&gt; 6    Good 15.145195</span></span></code></pre></div>
<p>Here we use <code>outcome</code> and <code>biomarker</code> as dependent and independent variables, respectively. <code>outcome</code> is a factor with two levels, <code>biomarker</code> is a numeric variable.</p>
<p>The most convenient usage of restrictedROC is via the <code><a href="reference/rROC.html">rROC()</a></code> function. The most important results of <code><a href="reference/rROC.html">restrictedROC::rROC()</a></code> are:</p>
<ul>
<li>(restricted) AUCs for all possible cutoffs of the predictor variable</li>
<li>A global and maximal (including all restrictions) AUC</li>
<li>Permutation p-values for the global and maximal AUC</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># library(restrictedROC)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">412</span><span class="op">)</span></span>
<span><span class="va">res_rroc</span> <span class="op">&lt;-</span> <span class="fu">restrictedROC</span><span class="fu">::</span><span class="fu"><a href="reference/rROC.html">rROC</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">biodata</span><span class="op">$</span><span class="va">biomarker</span>,</span>
<span>    y <span class="op">=</span> <span class="va">biodata</span><span class="op">$</span><span class="va">outcome</span>,</span>
<span>    positive_label <span class="op">=</span> <span class="st">"Good"</span>,</span>
<span>    n_permutations <span class="op">=</span> <span class="fl">100</span> <span class="co"># increase that in real data!</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Wed Dec  6 11:48:34 2023      y x ( 1 )</span></span></code></pre></div>
<p><code>res_rroc</code> is a nested list where the first level contains all dependent variables (Here only <code>y</code>). The second level contains the results for each independent variable (here only <code>x</code>).</p>
<p>Each dependent + independent variable combination has the following results:</p>
<ul>
<li>
<code>plots</code>: Plots, only if enabled, otherwise NA</li>
<li>
<code>permutation</code>: A <code>restrictedROC</code> class element containing each permutation result</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">single_result</span> <span class="op">&lt;-</span> <span class="va">res_rroc</span><span class="op">[[</span><span class="st">"y"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"x"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"permutation"</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<p>Given a dataframe, you can use arbitrary dependent and independent variables (within the dataframe) and calculate the restricted ROC curve for each combination. Additionally, the list names will be set to the respective dependent (first level) and independent (second level) variable names.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">412</span><span class="op">)</span></span>
<span><span class="va">res_rroc</span> <span class="op">&lt;-</span> <span class="fu">restrictedROC</span><span class="fu">::</span><span class="fu"><a href="reference/rROC.html">rROC</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">biodata</span>,</span>
<span>    dependent_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"outcome"</span><span class="op">)</span>,</span>
<span>    independent_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"biomarker"</span><span class="op">)</span>,</span>
<span>    positive_label <span class="op">=</span> <span class="st">"Good"</span>,</span>
<span>    n_permutations <span class="op">=</span> <span class="fl">100</span> <span class="co"># increase that in real data!</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Wed Dec  6 11:48:37 2023      outcome biomarker ( 1 )</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">single_result</span> <span class="op">&lt;-</span> <span class="va">res_rroc</span><span class="op">[[</span><span class="st">"outcome"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"biomarker"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"permutation"</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<p><code>single_result$permutation_pval</code> refers to the permutation p-values of:</p>
<ul>
<li>
<code>pval.twoside.global</code>: The global AUC when all samples are used. This is the usually known AUC with a calculated permutation p-value.</li>
<li>
<code>pval.twoside.max</code>: This is the maximal (restricted or unrestricted) AUC’s permutation p-value.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">single_result</span><span class="op">$</span><span class="va">permutation_pval</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    pval.twoside.max pval.twoside.global      n_permutations </span></span>
<span><span class="co">#&gt;               0.010               0.069             100.000</span></span></code></pre></div>
<p>In this particular example we see that at a significance level of 0.05, the global AUC is insignificant, but the maximal AUC is significant. This tells that the data should be restricted and has a <strong>limited informative range</strong>.</p>
<p><code>single_result$global</code> refers to the AUC, its variance under H0, the standardized AUC, and its (asymptotic, not permutation!) p-value when using all samples without restriction.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">single_result</span><span class="op">$</span><span class="va">global</span><span class="op">)</span></span>
<span><span class="co">#&gt;      auc auc_var_H0   rzAUC pval_asym</span></span>
<span><span class="co">#&gt; 1 0.6016     0.6016 1.75103 0.0799407</span></span></code></pre></div>
<p>We see that the AUC is 0.6016, with a p-value of 0.08. This is not significant at a significance level of 0.05.</p>
<p><code>single_result$max_total</code> refers to the AUC, its variance under H0, the standardized AUC, its (asymptotic, not permutation!) p-value, the threshold(=restriction value) and which part of the data is <strong>kept</strong> and therefore <strong>within the informative range</strong>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">single_result</span><span class="op">$</span><span class="va">max_total</span><span class="op">)</span></span>
<span><span class="co">#&gt;         auc  auc_var_H0    rzAUC    pval_asym threshold part</span></span>
<span><span class="co">#&gt; 1 0.9089069 0.007759784 4.641941 3.451517e-06  9.377944 high</span></span></code></pre></div>
<p>In this example, the maximal AUC is 0.9089, with a restriction value of 9.377944 and a focus on the “low” part. Therefore, the informative range is <code>biomarker &lt; 9.378</code>.</p>
<p>In particular, we observe that the AUC is much higher than the global AUC, and that the p-value is lower. This is because the data is restricted to the informative range and the AUC is calculated only on the samples with values within this range.</p>
<p>We have a convenient way to visualize the data and the results:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grouped_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">biodata</span><span class="op">$</span><span class="va">biomarker</span>, <span class="va">biodata</span><span class="op">$</span><span class="va">outcome</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">png</a></span><span class="op">(</span><span class="st">"man/figures/example.png"</span>, width <span class="op">=</span> <span class="fl">800</span>, height <span class="op">=</span> <span class="fl">800</span>, res <span class="op">=</span> <span class="fl">120</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span></span>
<span>    <span class="fu">restrictedROC</span><span class="fu">::</span><span class="fu"><a href="reference/plot_density_rROC_empirical.html">plot_density_rROC_empirical</a></span><span class="op">(</span></span>
<span>        values_grouped <span class="op">=</span> <span class="va">grouped_data</span>,</span>
<span>        positive_label <span class="op">=</span> <span class="st">"Good"</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; $plots</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $single_rROC</span></span>
<span><span class="co">#&gt; $performances</span></span>
<span><span class="co">#&gt; # A tibble: 101 × 21</span></span>
<span><span class="co">#&gt;    threshold auc_high positives_high negatives_high scaling_high auc_var_H0_high</span></span>
<span><span class="co">#&gt;        &lt;dbl&gt;    &lt;dbl&gt;          &lt;dbl&gt;          &lt;dbl&gt;        &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1   -Inf       0.602             50             50         1            0.00337</span></span>
<span><span class="co">#&gt;  2      4.52    0.614             49             50         1.02         0.00340</span></span>
<span><span class="co">#&gt;  3      5.57    0.627             48             50         1.04         0.00344</span></span>
<span><span class="co">#&gt;  4      6.20    0.64              47             50         1.06         0.00348</span></span>
<span><span class="co">#&gt;  5      6.40    0.654             46             50         1.09         0.00351</span></span>
<span><span class="co">#&gt;  6      6.61    0.668             45             50         1.11         0.00356</span></span>
<span><span class="co">#&gt;  7      6.66    0.684             44             50         1.14         0.00360</span></span>
<span><span class="co">#&gt;  8      6.74    0.677             44             49         1.16         0.00363</span></span>
<span><span class="co">#&gt;  9      6.86    0.693             43             49         1.19         0.00368</span></span>
<span><span class="co">#&gt; 10      7.19    0.709             42             49         1.21         0.00373</span></span>
<span><span class="co">#&gt; # ℹ 91 more rows</span></span>
<span><span class="co">#&gt; # ℹ 15 more variables: rzAUC_high &lt;dbl&gt;, pval_asym_onesided_high &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   pval_asym_high &lt;dbl&gt;, auc_low &lt;dbl&gt;, positives_low &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   negatives_low &lt;dbl&gt;, scaling_low &lt;dbl&gt;, auc_var_H0_low &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   rzAUC_low &lt;dbl&gt;, pval_asym_onesided_low &lt;dbl&gt;, pval_asym_low &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   tp &lt;dbl&gt;, fp &lt;dbl&gt;, tpr_global &lt;dbl&gt;, fpr_global &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $global</span></span>
<span><span class="co">#&gt;      auc auc_var_H0   rzAUC pval_asym</span></span>
<span><span class="co">#&gt; 1 0.6016     0.6016 1.75103 0.0799407</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $keep_highs</span></span>
<span><span class="co">#&gt;         auc  auc_var_H0    rzAUC    pval_asym threshold</span></span>
<span><span class="co">#&gt; 1 0.9089069 0.007759784 4.641941 3.451517e-06  9.377944</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $keep_lows</span></span>
<span><span class="co">#&gt;         auc  auc_var_H0     rzAUC  pval_asym threshold</span></span>
<span><span class="co">#&gt; 1 0.2492063 0.006878307 -3.023958 0.00249491  9.306498</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $max_total</span></span>
<span><span class="co">#&gt;         auc  auc_var_H0    rzAUC    pval_asym threshold part</span></span>
<span><span class="co">#&gt; 1 0.9089069 0.007759784 4.641941 3.451517e-06  9.377944 high</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $positive_label</span></span>
<span><span class="co">#&gt; [1] "Good"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $pROC_full</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; roc.default(response = true_pred_df[["true"]], predictor = true_pred_df[["pred"]],     levels = c(FALSE, TRUE), direction = direction)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data: true_pred_df[["pred"]] in 50 controls (true_pred_df[["true"]] FALSE) &lt; 50 cases (true_pred_df[["true"]] TRUE).</span></span>
<span><span class="co">#&gt; Area under the curve: 0.6016</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "restrictedROC" "list"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; png </span></span>
<span><span class="co">#&gt;   2</span></span></code></pre></div>
<div class="figure">
<img src="reference/figures/example.png" alt=""><p class="caption">aSAH rROC example</p>
</div>
<p><code><a href="reference/plot_density_rROC_empirical.html">plot_density_rROC_empirical()</a></code> effectively: 1. Calls <code>simple_rROC</code> to perform restriction 2. Makes the results readable with <code><a href="reference/simple_rROC_interpret.html">simple_rROC_interpret()</a></code> 3. Plots the original data and the restriction results</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
<li><a href="SUPPORT.html">Getting help</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing restrictedROC</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Gunther Glehr <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-1495-9162" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://github.com/ggrlab/restrictedROC/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/ggrlab/restrictedROC/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/ggrlab/restrictedROC?branch=main" class="external-link"><img src="https://codecov.io/gh/ggrlab/restrictedROC/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Gunther Glehr.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
